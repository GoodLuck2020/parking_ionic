{"version":3,"sources":["../../src/pages/account/account.module.ts","../../src/pages/login/login.ts","../../src/pages/account/account.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AccountPage } from './account';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AccountPage\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AccountPage)\r\n  ],\r\n  exports: [\r\n    AccountPage\r\n  ]\r\n})\r\n\r\nexport class AccountPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account/account.module.ts","import {Component, OnInit} from \"@angular/core\";\r\nimport {FormGroup, Validators, FormBuilder} from '@angular/forms';\r\nimport {IonicPage, NavController, AlertController, ToastController, MenuController} from \"ionic-angular\";\r\nimport {AuthProvider} from \"../../providers/auth\"\r\nimport firebase from 'firebase/app'\r\nimport {Storage} from \"@ionic/storage\";\r\n\r\n\r\nimport {\r\n  Alert,\r\n  Loading,\r\n  LoadingController\r\n} from 'ionic-angular'\r\nimport {easyParkingApp} from \"../../app/app.component\";\r\n\r\n@IonicPage({\r\n  name: 'page-login',\r\n  segment: 'login',\r\n  priority: 'high'\r\n})\r\n\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html'\r\n})\r\n\r\nexport class LoginPage implements OnInit {\r\n\r\n  public geolocation: Geolocation;\r\n  public onLoginForm: FormGroup;\r\n  constructor(private authProvider: AuthProvider,\r\n              private app: easyParkingApp,\r\n              private _fb: FormBuilder,\r\n              public nav: NavController,\r\n              public forgotCtrl: AlertController,\r\n              public menu: MenuController,\r\n              public loadingCtrl: LoadingController,\r\n              public local: Storage,\r\n              public toastCtrl: ToastController) {\r\n    this.menu.swipeEnable(false);\r\n    this.menu.enable(false);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.onLoginForm = this._fb.group({\r\n      email: ['', Validators.compose([\r\n        Validators.required\r\n      ])],\r\n      password: ['', Validators.compose([\r\n        Validators.required\r\n      ])]\r\n    });\r\n\r\n    /** setting default value **/\r\n    this.onLoginForm.get('email').setValue('amazingskill2014@outlook.com');\r\n    this.onLoginForm.get('password').setValue('123456');\r\n  }\r\n\r\n  // go to register page\r\n  register() {\r\n    this.nav.setRoot('page-register');\r\n  }\r\n\r\n  // login and go to home page\r\n  async login() {\r\n\r\n    const loading: Loading = this.loadingCtrl.create();\r\n    loading.present();\r\n    const email: string = this.onLoginForm.value.email;\r\n    const password: string = this.onLoginForm.value.password;\r\n\r\n    try {\r\n      const loginUser: firebase.User = await this.authProvider.loginUser(\r\n        email,\r\n        password\r\n      );\r\n\r\n      this.authProvider.fillUser(loginUser.uid).then(sfDoc => {\r\n\r\n        console.log('fillUser');\r\n        let userObject = sfDoc.data();\r\n        this.app.userProfile = {\r\n          id: loginUser.uid,\r\n          email: userObject.email,\r\n          full_name: userObject.full_name,\r\n          address: userObject.address,\r\n          city: userObject.city,\r\n          state: userObject.state,\r\n          user_type: userObject.user_type\r\n        };\r\n\r\n        console.log(this.app.userProfile);\r\n        this.local.set('userProfile', this.app.userProfile);\r\n        loading.dismiss();\r\n        this.nav.setRoot('page-home');\r\n      });\r\n\r\n\r\n    } catch(error) {\r\n      await loading.dismiss();\r\n      const alert: Alert = this.forgotCtrl.create({\r\n        message: 'Error: ' + error.message ,\r\n        buttons: [{ text: 'Ok', role: 'cancel' }]\r\n      });\r\n      alert.present();\r\n    }\r\n  }\r\n\r\n  forgotPass() {\r\n    let forgot = this.forgotCtrl.create({\r\n      title: 'Forgot Password?',\r\n      message: \"Enter you email address to send a reset link password.\",\r\n      inputs: [\r\n        {\r\n          name: 'email',\r\n          placeholder: 'Email',\r\n          type: 'email'\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Send',\r\n          handler: data => {\r\n            console.log('Send clicked');\r\n            let toast = this.toastCtrl.create({\r\n              message: 'Email was sended successfully',\r\n              duration: 3000,\r\n              position: 'top',\r\n              cssClass: 'dark-trans',\r\n              closeButtonText: 'OK',\r\n              showCloseButton: true\r\n            });\r\n            toast.present();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    forgot.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavController } from \"ionic-angular\";\r\nimport { LoginPage } from \"../login/login\";\r\n\r\n@IonicPage({\r\n  name: 'page-account',\r\n  segment: 'account'\r\n})\r\n\r\n@Component({\r\n  selector: 'page-account',\r\n  templateUrl: 'account.html'\r\n})\r\nexport class AccountPage {\r\n\r\n  constructor(public nav: NavController) {\r\n  }\r\n\r\n  // logout\r\n  logout() {\r\n    this.nav.setRoot(LoginPage);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account/account.ts"],"sourceRoot":""}